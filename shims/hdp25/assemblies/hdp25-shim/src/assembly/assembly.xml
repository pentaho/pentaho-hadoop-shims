<assembly>
  <id>plugin</id>
  <baseDirectory>hdp25</baseDirectory>
  <formats>
    <format>zip</format>
  </formats>
  <fileSets>
    <fileSet>
      <directory>${basedir}/src/main/resources</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>${oss.license.directory}</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>
  </fileSets>
  <dependencySets>
    <dependencySet>
      <outputDirectory>/</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.pentaho:pentaho-hadoop-shims-hdp25</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>external-libs</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.pentaho:pentaho-hadoop-shims-hbase-comparators</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>dk.brics.automaton:automaton</include>
        <include>commons-lang:commons-lang</include>
        <include>pentaho:hadoop2-windows-patch</include>
        <include>org.apache.oozie:oozie-client</include>
        <include>org.apache.oozie:oozie-core</include>
        <include>pentaho:pentaho-hdfs-vfs</include>
        <include>org.apache.pig:pig</include>
        <include>org.apache.sqoop:sqoop</include>
        <include>org.apache.zookeeper:zookeeper</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <includes>
        <!-- Parent MVN Dependencies -->
        <include>com.zaxxer:HikariCP</include>
        <include>javax.activation:activation</include>
        <include>org.apache.ant:ant</include>
        <include>org.apache.ant:ant-launcher</include>
        <include>antlr:antlr</include>
        <include>org.antlr:antlr-runtime</include>
        <include>log4j:apache-log4j-extras</include>
        <include>asm:asm</include>
        <include>asm:asm-commons</include>
        <include>asm:asm-tree</include>
        <include>com.jolbox:bonecp</include>
        <include>commons-cli:commons-cli</include>
        <include>org.apache.commons:commons-compress</include>
        <include>commons-dbcp:commons-dbcp</include>
        <include>org.apache.curator:curator-client</include>
        <include>org.apache.curator:curator-framework</include>
        <include>org.apache.curator:curator-recipes</include>
        <include>org.datanucleus:datanucleus-api-jdo</include>
        <include>org.datanucleus:datanucleus-core</include>
        <include>org.datanucleus:datanucleus-rdbms</include>
        <include>org.apache.derby:derby</include>
        <include>com.github.joshelser:dropwizard-metrics-hadoop-metrics2-reporter</include>
        <include>org.apache.geronimo.specs:geronimo-annotation_1.0_spec</include>
        <include>org.apache.geronimo.specs:geronimo-jaspic_1.0_spec</include>
        <include>org.apache.geronimo.specs:geronimo-jta_1.1_spec</include>
        <include>org.apache.hive:hive-common</include>
        <include>org.apache.hive:hive-metastore</include>
        <include>org.apache.hive:hive-serde</include>
        <include>org.apache.hive:hive-service</include>
        <include>org.apache.hive.shims:hive-shims-0.20S</include>
        <include>org.apache.hive.shims:hive-shims-0.23</include>
        <include>org.apache.hive:hive-shims</include>
        <include>org.apache.hive.shims:hive-shims-common</include>
        <include>org.apache.hive.shims:hive-shims-scheduler</include>
        <include>org.apache.httpcomponents:httpclient</include>
        <include>org.apache.httpcomponents:httpcore</include>
        <include>com.fasterxml.jackson.core:jackson-annotations</include>
        <include>com.fasterxml.jackson.core:jackson-databind</include>
        <include>org.datanucleus:javax.jdo</include>
        <include>javax.jdo:jdo-api</include>
        <include>org.eclipse.jetty.aggregate:jetty-all</include>
        <include>joda-time:joda-time</include>
        <include>net.sf.jpam:jpam</include>
        <include>org.json:json</include>
        <include>com.google.code.findbugs:jsr305</include>
        <include>javax.transaction:jta</include>
        <include>org.apache.thrift:libfb303</include>
        <include>org.apache.thrift:libthrift</include>
        <include>javax.mail:mail</include>
        <include>io.dropwizard.metrics:metrics-core</include>
        <include>io.dropwizard.metrics:metrics-json</include>
        <include>io.dropwizard.metrics:metrics-jvm</include>
        <include>io.netty:netty</include>
        <include>net.sf.opencsv:opencsv</include>
        <include>org.apache.parquet:parquet-hadoop-bundle</include>
        <include>javax.servlet:servlet-api</include>
        <include>org.slf4j:slf4j-api</include>
        <include>org.slf4j:slf4j-log4j12</include>
        <include>org.antlr:stringtemplate</include>
        <include>javax.transaction:transaction-api</include>
        <!-- Transitive MVN Dependencies -->
        <include>org.apache.hive:hive-jdbc</include>
        <!-- Transitive ANT Dependencies -->
        <include>org.apache.avro:avro</include>
        <include>commons-codec:commons-codec</include>
        <include>commons-logging:commons-logging</include>
        <include>commons-pool:commons-pool</include>
        <include>com.google.guava:guava</include>
        <include>com.fasterxml.jackson.core:jackson-core</include>
        <include>org.codehaus.jackson:jackson-core-asl</include>
        <include>org.codehaus.jackson:jackson-mapper-asl</include>
        <include>org.javassist:javassist</include>
        <include>jline:jline</include>
        <include>com.thoughtworks.paranamer:paranamer</include>
        <include>org.xerial.snappy:snappy-java</include>
        <include>org.tukaani:xz</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib/client</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>com.google.protobuf:protobuf-java</include>
        <include>org.apache.zookeeper:zookeeper</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib/client</outputDirectory>
      <includes>
        <!-- Parent MVN Dependencies -->
        <include>aopalliance:aopalliance</include>
        <include>org.apache.directory.server:apacheds-i18n</include>
        <include>org.apache.directory.server:apacheds-kerberos-codec</include>
        <include>org.apache.directory.api:api-asn1-api</include>
        <include>org.apache.directory.api:api-util</include>
        <include>commons-beanutils:commons-beanutils-core</include>
        <include>commons-configuration:commons-configuration</include>
        <include>commons-digester:commons-digester</include>
        <include>org.apache.commons:commons-math3</include>
        <include>commons-net:commons-net</include>
        <include>com.google.code.gson:gson</include>
        <include>com.google.inject:guice</include>
        <include>org.apache.hadoop:hadoop-annotations</include>
        <include>org.apache.hadoop:hadoop-auth</include>
        <include>org.apache.hadoop:hadoop-common</include>
        <include>org.apache.hadoop:hadoop-hdfs</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-app</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-common</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-core</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-jobclient</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-shuffle</include>
        <include>org.apache.hadoop:hadoop-yarn-api</include>
        <include>org.apache.hadoop:hadoop-yarn-client</include>
        <include>org.apache.hadoop:hadoop-yarn-common</include>
        <include>org.apache.hadoop:hadoop-yarn-registry</include>
        <include>org.apache.hadoop:hadoop-yarn-server-common</include>
        <include>org.apache.htrace:htrace-core</include>
        <include>com.fasterxml.jackson.core:jackson-core</include>
        <include>org.codehaus.jackson:jackson-jaxrs</include>
        <include>org.codehaus.jackson:jackson-xc</include>
        <include>javax.inject:javax.inject</include>
        <include>javax.xml.bind:jaxb-api</include>
        <include>com.sun.xml.bind:jaxb-impl</include>
        <include>net.jcip:jcip-annotations</include>
        <include>com.sun.jersey:jersey-client</include>
        <include>com.sun.jersey:jersey-core</include>
        <include>com.sun.jersey.contribs:jersey-guice</include>
        <include>com.sun.jersey:jersey-json</include>
        <include>com.sun.jersey:jersey-server</include>
        <include>org.codehaus.jettison:jettison</include>
        <include>org.mortbay.jetty:jetty-util</include>
        <include>net.minidev:json-smart</include>
        <include>javax.servlet.jsp:jsp-api</include>
        <include>org.fusesource.leveldbjni:leveldbjni-all</include>
        <include>com.microsoft.windowsazure.storage:microsoft-windowsazure-storage-sdk</include>
        <include>io.netty:netty-all</include>
        <include>com.nimbusds:nimbus-jose-jwt</include>
        <include>com.squareup.okhttp:okhttp</include>
        <include>com.squareup.okio:okio</include>
        <include>javax.xml.stream:stax-api</include>
        <include>xmlenc:xmlenc</include>
        <!-- Transitive MVN Dependencies -->
        <include>org.apache.hadoop:hadoop-client</include>
        <!-- Transitive ANT Dependencies -->
        <include>org.sonatype.sisu.inject:cglib</include>
        <include>commons-beanutils:commons-beanutils</include>
        <include>commons-io:commons-io</include>
        <include>log4j:log4j</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib/pmr</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.apache.hbase:hbase-client</include>
        <include>org.apache.hbase:hbase-common</include>
        <include>org.apache.hbase:hbase-hadoop-compat</include>
        <include>org.apache.hbase:hbase-prefix-tree</include>
        <include>org.apache.hbase:hbase-protocol</include>
        <include>org.apache.hbase:hbase-server</include>
        <include>org.cloudera.htrace:htrace-core</include>
        <include>com.yammer.metrics:metrics-core</include>
        <include>com.google.protobuf:protobuf-java</include>
        <include>org.apache.zookeeper:zookeeper</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
  </dependencySets>
</assembly>
