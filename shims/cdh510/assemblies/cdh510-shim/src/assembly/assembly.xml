<assembly>
  <id>plugin</id>
  <baseDirectory>cdh510</baseDirectory>
  <formats>
    <format>zip</format>
  </formats>
  <fileSets>
    <fileSet>
      <directory>${basedir}/src/main/resources</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>
    <fileSet>
      <directory>${oss.license.directory}</directory>
      <outputDirectory>/</outputDirectory>
    </fileSet>
  </fileSets>
  <dependencySets>
    <dependencySet>
      <outputDirectory>/</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.pentaho:pentaho-hadoop-shims-cdh510</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>external-libs</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.pentaho:pentaho-hadoop-shims-hbase-comparators</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>dk.brics.automaton:automaton</include>
        <include>commons-lang:commons-lang</include>
        <include>pentaho:hadoop2-windows-patch</include>
        <include>org.apache.hive:hive-jdbc</include>
        <include>org.apache.oozie:oozie-client</include>
        <include>org.apache.oozie:oozie-core</include>
        <include>pentaho:pentaho-hdfs-vfs</include>
        <include>org.apache.pig:pig</include>
        <include>org.apache.sqoop:sqoop</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <includes>
        <!-- Parent MVN Dependencies -->
        <include>javax.activation:activation</include>
        <include>org.apache.ant:ant</include>
        <include>org.apache.ant:ant-launcher</include>
        <include>antlr:antlr</include>
        <include>org.antlr:antlr-runtime</include>
        <include>log4j:apache-log4j-extras</include>
        <include>asm:asm-commons</include>
        <include>asm:asm-tree</include>
        <include>org.apache.avro:avro</include>
        <include>com.jolbox:bonecp</include>
        <include>org.apache.calcite:calcite-avatica</include>
        <include>org.apache.calcite:calcite-core</include>
        <include>org.apache.calcite:calcite-linq4j</include>
        <include>commons-cli:commons-cli</include>
        <include>org.codehaus.janino:commons-compiler</include>
        <include>org.apache.commons:commons-compress</include>
        <include>commons-dbcp:commons-dbcp</include>
        <include>commons-el:commons-el</include>
        <include>org.apache.commons:commons-lang3</include>
        <include>org.apache.curator:curator-framework</include>
        <include>org.apache.curator:curator-recipes</include>
        <include>org.datanucleus:datanucleus-api-jdo</include>
        <include>org.datanucleus:datanucleus-core</include>
        <include>org.datanucleus:datanucleus-rdbms</include>
        <include>org.apache.derby:derby</include>
        <include>eigenbase:eigenbase-properties</include>
        <include>org.apache.geronimo.specs:geronimo-annotation_1.0_spec</include>
        <include>org.apache.geronimo.specs:geronimo-jaspic_1.0_spec</include>
        <include>org.apache.geronimo.specs:geronimo-jta_1.1_spec</include>
        <include>org.codehaus.groovy:groovy-all</include>
        <include>com.google.code.gson:gson</include>
        <include>org.apache.hive:hive-ant</include>
        <include>org.apache.hive.shims:hive-shims-0.23</include>
        <include>org.apache.hive:hive-shims</include>
        <include>org.apache.hive.shims:hive-shims-common</include>
        <include>org.apache.hive.shims:hive-shims-scheduler</include>
        <include>org.apache.ivy:ivy</include>
        <include>org.jamon:jamon-runtime</include>
        <include>org.codehaus.janino:janino</include>
        <include>tomcat:jasper-compiler</include>
        <include>tomcat:jasper-runtime</include>
        <include>javax.jdo:jdo-api</include>
        <include>com.sun.jersey:jersey-servlet</include>
        <include>org.eclipse.jetty.aggregate:jetty-all</include>
        <include>jline:jline</include>
        <include>joda-time:joda-time</include>
        <include>net.sf.jpam:jpam</include>
        <include>javax.servlet.jsp:jsp-api</include>
        <include>com.google.code.findbugs:jsr305</include>
        <include>javax.transaction:jta</include>
        <include>org.apache.thrift:libfb303</include>
        <include>org.apache.thrift:libthrift</include>
        <include>javax.mail:mail</include>
        <include>com.codahale.metrics:metrics-core</include>
        <include>com.codahale.metrics:metrics-json</include>
        <include>com.codahale.metrics:metrics-jvm</include>
        <include>net.sf.opencsv:opencsv</include>
        <include>oro:oro</include>
        <include>com.thoughtworks.paranamer:paranamer</include>
        <include>com.twitter:parquet-hadoop-bundle</include>
        <include>org.pentaho:pentaho-aggdesigner-algorithm</include>
        <include>javax.servlet:servlet-api</include>
        <include>org.slf4j:slf4j-api</include>
        <include>org.slf4j:slf4j-log4j12</include>
        <include>org.xerial.snappy:snappy-java</include>
        <include>stax:stax-api</include>
        <include>org.antlr:stringtemplate</include>
        <include>org.apache.velocity:velocity</include>
        <!-- Transitive MVN Dependencies -->
        <include>org.apache.hive:hive-common</include>
        <include>org.apache.hive:hive-exec</include>
        <include>org.apache.hive:hive-metastore</include>
        <include>org.apache.hive:hive-serde</include>
        <include>org.apache.hive:hive-service</include>
        <!-- Transitive ANT Dependencies -->
        <include>asm:asm</include>
        <include>commons-codec:commons-codec</include>
        <include>commons-httpclient:commons-httpclient</include>
        <include>commons-io:commons-io</include>
        <include>commons-logging:commons-logging</include>
        <include>commons-pool:commons-pool</include>
        <include>org.apache.curator:curator-client</include>
        <include>org.apache.httpcomponents:httpclient</include>
        <include>org.apache.httpcomponents:httpcore</include>
        <include>com.fasterxml.jackson.core:jackson-annotations</include>
        <include>com.fasterxml.jackson.core:jackson-core</include>
        <include>org.codehaus.jackson:jackson-core-asl</include>
        <include>com.fasterxml.jackson.core:jackson-databind</include>
        <include>org.codehaus.jackson:jackson-mapper-asl</include>
        <include>org.tukaani:xz</include>
      </includes>
      <excludes>
        <exclude>*:hive-exec:*:core</exclude>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib/client</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.apache.hadoop:hadoop-annotations</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-app</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-jobclient</include>
        <include>org.apache.hadoop:hadoop-yarn-api</include>
        <include>org.apache.hadoop:hadoop-yarn-server-common</include>
        <include>org.apache.hadoop:hadoop-yarn-server-resourcemanager</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib/client</outputDirectory>
      <includes>
        <!-- Parent MVN Dependencies -->
        <include>aopalliance:aopalliance</include>
        <include>org.apache.directory.server:apacheds-i18n</include>
        <include>org.apache.directory.server:apacheds-kerberos-codec</include>
        <include>org.apache.directory.api:api-asn1-api</include>
        <include>org.apache.directory.api:api-util</include>
        <include>com.amazonaws:aws-java-sdk-core</include>
        <include>com.amazonaws:aws-java-sdk-kms</include>
        <include>com.amazonaws:aws-java-sdk-s3</include>
        <include>com.amazonaws:aws-java-sdk-sts</include>
        <include>commons-beanutils:commons-beanutils-core</include>
        <include>commons-configuration:commons-configuration</include>
        <include>commons-digester:commons-digester</include>
        <include>commons-httpclient:commons-httpclient</include>
        <include>org.apache.commons:commons-math3</include>
        <include>commons-net:commons-net</include>
        <include>org.apache.curator:curator-client</include>
        <include>com.google.inject:guice</include>
        <include>com.google.inject.extensions:guice-servlet</include>
        <include>org.apache.hadoop:hadoop-auth</include>
        <include>org.apache.hadoop:hadoop-aws</include>
        <include>org.apache.hadoop:hadoop-common</include>
        <include>org.apache.hadoop:hadoop-hdfs</include>
        <include>org.apache.hadoop:hadoop-yarn-client</include>
        <include>org.apache.hadoop:hadoop-yarn-server-nodemanager</include>
        <include>org.apache.htrace:htrace-core4</include>
        <include>org.codehaus.jackson:jackson-core-asl</include>
        <include>org.codehaus.jackson:jackson-jaxrs</include>
        <include>org.codehaus.jackson:jackson-mapper-asl</include>
        <include>org.codehaus.jackson:jackson-xc</include>
        <include>javax.inject:javax.inject</include>
        <include>javax.xml.bind:jaxb-api</include>
        <include>com.sun.xml.bind:jaxb-impl</include>
        <include>com.sun.jersey:jersey-client</include>
        <include>com.sun.jersey:jersey-core</include>
        <include>com.sun.jersey.contribs:jersey-guice</include>
        <include>com.sun.jersey:jersey-json</include>
        <include>com.sun.jersey:jersey-server</include>
        <include>org.codehaus.jettison:jettison</include>
        <include>org.mortbay.jetty:jetty</include>
        <include>org.mortbay.jetty:jetty-util</include>
        <include>org.fusesource.leveldbjni:leveldbjni-all</include>
        <include>io.netty:netty</include>
        <include>io.netty:netty-all</include>
        <include>com.google.protobuf:protobuf-java</include>
        <include>javax.xml.stream:stax-api</include>
        <include>xerces:xercesImpl</include>
        <include>xmlenc:xmlenc</include>
        <!-- Transitive MVN Dependencies -->
        <include>org.apache.hadoop:hadoop-client</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-common</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-core</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-shuffle</include>
        <include>org.apache.hadoop:hadoop-yarn-common</include>
        <include>org.apache.hadoop:hadoop-yarn-server-applicationhistoryservice</include>
        <include>org.apache.hadoop:hadoop-yarn-server-web-proxy</include>
        <!-- Transitive ANT Dependencies -->
        <include>org.sonatype.sisu.inject:cglib</include>
        <include>commons-beanutils:commons-beanutils</include>
        <include>org.apache.curator:curator-framework</include>
        <include>org.apache.curator:curator-recipes</include>
        <include>log4j:log4j</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib/pmr</outputDirectory>
      <useTransitiveDependencies>true</useTransitiveDependencies>
      <useTransitiveFiltering>false</useTransitiveFiltering>
      <includes>
        <include>org.apache.hbase:hbase-client</include>
        <include>org.apache.hbase:hbase-common</include>
        <include>org.apache.hbase:hbase-examples</include>
        <include>org.apache.hbase:hbase-hadoop-compat</include>
        <include>org.apache.hbase:hbase-protocol</include>
        <include>org.apache.hbase:hbase-server</include>
        <include>org.apache.hbase:hbase-thrift</include>
        <include>org.apache.htrace:htrace-core</include>
        <include>com.yammer.metrics:metrics-core</include>
        <include>org.apache.zookeeper:zookeeper</include>
      </includes>
      <excludes>
        <exclude>*:tests:*</exclude>
      </excludes>
    </dependencySet>
  </dependencySets>
</assembly>
